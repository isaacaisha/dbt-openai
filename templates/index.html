{% import "bootstrap/wtf.html" as wtf %}

{% extends 'header.html' %}

{% block title %} Welcomâ‚¬ to{% endblock %}

{% block head %}
    {{ super() }}
    <link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static', filename='assets/images/favicon5.ico') }}">
    {% include 'bootstrap/base.html' %}
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
{% endblock %}

{% block content1 %}
        <div class="container-fluid mb-3">
            <div class="p-1 rounded-3 jumbotron">
                <div class="container-fluid py-1">
                    <h1 class="">
                        <img src="https://rastas-dreadlocks.3marches.com/images/crown.webp" class="crown">
                        SÃ¬Ä¯SÃ­ DBT OpenAI
                        <img src="https://rastas-dreadlocks.3marches.com/images/crown.webp" class="crown">
                    </h1>
                </div>
            </div>
        </div>
{% endblock %}

{% block navbar %}{% endblock %}

{% block content %}
{% autoescape true %}

    <div class="content">
        <!-- Page Header -->

        <hr style="color:green;">

        <h3 class="text-center log-register-h3">Interact  With<br>
            <span class="artificial-intelligence">SÃ¬Ä¯SÃ­</span><br>Register & Log in
        </h3>

        <hr class="mb-3" style="color:yellow;">

        <!-- Navbar -->
        <nav class="navbar nav-home">
            <div class="" id="navbarSupportedContent">
                <ul class="navbar-nav" style="display: inline-block;">
                    <li class="nav-item" style="display: inline-block;">
                        <a class="nav-link register-home" href="{{ url_for('register') }}" style="color:#1295FA;">Register</a>
                    </li>
                    <li class="nav-item" style="display: none;">
                        <a class="nav-link register &-home" href="">&</a>
                    </li>
                    <li class="nav-item" style="display: inline-block;">
                        <a class="nav-link active log-in-home" aria-current="page"
                           href="{{ url_for('login') }}" style="color:#1295FA;">Login</a>
                    </li>
                </ul>
                <p class="text-center" style="color:gold;">ðŸ”¥âˆžTo Use All FeaturesâˆžðŸ”¥</p>
            </div>

        </nav>

        <hr class="mb-5" style="color:yellow;">

        <div>
            <div class="mb-4 text-center">
                {% with messages = get_flashed_messages() %}
                    {% if messages %}
                        {% for message in messages %}
                            <p class="text-center" style="color:#17a2b8;">{{ message }}</p>
                        {% endfor %}
                    {% endif %}
                {% endwith %}


                <div class="mb-3" style="margin:0 9%; color:#1295FA;">
                    <!-- Include CSRF token -->
                    {{ wtf.quick_form(form_home, novalidate=True, button_map={'submit': 'success btn submit'}) }}
                    {{ form_home.csrf_token }}
                </div>
            </div>

            {% if response %}
                <!-- Display the text response -->
                <div id="resultMemo" style="" class="text-center mb-3">
                    <label>â€¦Â·SÃ¬Ä¯SÃ­Â·â€¦ï£¿(LLM)ï£¿ Response:</label>
                    <textarea class="form-control result mb-5" style="color:purple;">{{ response|safe }}</textarea>
                    <hr style="color:red;">
                    <h3>Conversation</h3>
                    <textarea class="textarea-memory mb-3" id="memoryTextarea">{{ memory_buffer|safe }}</textarea>
                </div>
            {% endif %}
        </div>

        <hr class="mb-5" style="color:green;">

    </div>

{% endautoescape %}
{% endblock %}

{% block footer %} {% endblock %}
